{"ast":null,"code":"import axios from \"axios\";\nimport { logoutUser } from \"./LoginHandler\";\nconst backendURL = \"http://localhost:8080/api\";\n/**\n * This is just used to check whether the user is still logged in properly or not.\n * If its not, then dont make a second callback.\n */\n\nexport function isValid(data) {\n  return data.loginError === undefined;\n}\nexport function getContestList(callback) {\n  axios.get(backendURL + \"/contestlist\", {\n    withCredentials: true\n  }).then(response => {\n    if (!isValid(response)) logoutUser();\n    callback(response.data);\n  }).catch(Error => console.log(Error));\n}\nexport function getContestDetails(callback, contestCode) {\n  axios.get(backendURL + \"/contestpage/\" + contestCode, {\n    withCredentials: true\n  }).then(response => {\n    console.log(\"CHECK THIS: \" + isValid(response));\n    if (!isValid(response)) logoutUser();\n    callback(response.data);\n  }).catch(Error => console.log(Error));\n}\nexport function getProblemDetails(callback, contestCode, problemCode) {\n  const actualURL = backendURL + \"/contestpage/\" + contestCode + \"/problems/\" + problemCode;\n  console.log(actualURL);\n  axios.get(actualURL, {\n    withCredentials: true\n  }).then(response => {\n    if (!isValid(response)) logoutUser();\n    callback(response.data);\n  }).catch(Error => console.log(Error));\n}\nexport function getContestRanklist(callback, contestCode) {\n  axios.get(backendURL + \"/ranklist/\" + contestCode, {\n    withCredentials: true\n  }).then(response => {\n    if (!isValid(response)) logoutUser();\n    callback(response.data);\n  }).catch(Error => console.log(Error));\n}\nexport function getSubmission(callback, contestCode, username) {\n  const actualURL = backendURL + \"/submissions/\" + contestCode + \"/user/\" + username;\n  console.log(actualURL);\n  axios.get(actualURL, {\n    withCredentials: true\n  }).then(response => {\n    if (!isValid(response)) logoutUser();\n    console.log(response.data);\n    callback(response.data);\n  }).catch(Error => console.log(Error));\n}\nexport function getSubmissionForProblem(callback, problemCode) {\n  const actualURL = backendURL + \"/submissions/\" + problemCode;\n  console.log(actualURL);\n  axios.get(actualURL, {\n    withCredentials: true\n  }).then(response => {\n    if (!isValid(response)) logoutUser();\n    console.log(response.data);\n    callback(response.data);\n  }).catch(Error => console.log(Error));\n}\nexport function getLanguages(callback) {\n  const actualURL = backendURL + \"/languages\";\n  console.log(actualURL);\n  axios.get(actualURL, {\n    withCredentials: true\n  }).then(response => {\n    if (!isValid(response)) logoutUser();\n    console.log(response.data);\n    callback(response.data);\n  }).catch(Error => console.log(Error));\n}\nexport function submitCode(callback, src, tc, lng) {\n  const actualURL = backendURL + \"/submit\";\n  const params = new URLSearchParams();\n  params.append(\"sourceCode\", src);\n  params.append(\"testCase\", tc);\n  params.append(\"language\", lng);\n  axios({\n    method: \"post\",\n    url: actualURL,\n    data: params,\n    withCredentials: true\n  }).then(response => {\n    if (!isValid(response)) logoutUser();\n    console.log(response.data);\n    callback(response.data.link);\n  }).catch(Error => console.log(Error));\n  return;\n}\nexport function getProblemStatus(callback, link) {\n  const actualURL = backendURL + \"/getsubmitstatus/\" + link;\n  console.log(actualURL);\n  axios.get(actualURL, {\n    withCredentials: true\n  }).then(response => {\n    if (!isValid(response)) logoutUser();\n    console.log(response.data);\n    callback(response.data);\n  }).catch(Error => console.log(Error));\n}","map":{"version":3,"sources":["/Users/rajobasu/Desktop/react_tut/src/APICalls/API.js"],"names":["axios","logoutUser","backendURL","isValid","data","loginError","undefined","getContestList","callback","get","withCredentials","then","response","catch","Error","console","log","getContestDetails","contestCode","getProblemDetails","problemCode","actualURL","getContestRanklist","getSubmission","username","getSubmissionForProblem","getLanguages","submitCode","src","tc","lng","params","URLSearchParams","append","method","url","link","getProblemStatus"],"mappings":"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","sourcesContent":["import axios from \"axios\";\nimport { logoutUser } from \"./LoginHandler\";\nconst backendURL = \"http://localhost:8080/api\";\n\n/**\n * This is just used to check whether the user is still logged in properly or not.\n * If its not, then dont make a second callback.\n */\nexport function isValid(data) {\n  return data.loginError === undefined;\n}\n\nexport function getContestList(callback) {\n  axios\n    .get(backendURL + \"/contestlist\", { withCredentials: true })\n    .then((response) => {\n      if (!isValid(response)) logoutUser();\n      callback(response.data);\n    })\n    .catch((Error) => console.log(Error));\n}\n\nexport function getContestDetails(callback, contestCode) {\n  axios\n    .get(backendURL + \"/contestpage/\" + contestCode, { withCredentials: true })\n    .then((response) => {\n      console.log(\"CHECK THIS: \" + isValid(response));\n      if (!isValid(response)) logoutUser();\n      callback(response.data);\n    })\n    .catch((Error) => console.log(Error));\n}\nexport function getProblemDetails(callback, contestCode, problemCode) {\n  const actualURL =\n    backendURL + \"/contestpage/\" + contestCode + \"/problems/\" + problemCode;\n  console.log(actualURL);\n  axios\n    .get(actualURL, { withCredentials: true })\n    .then((response) => {\n      if (!isValid(response)) logoutUser();\n      callback(response.data);\n    })\n    .catch((Error) => console.log(Error));\n}\n\nexport function getContestRanklist(callback, contestCode) {\n  axios\n    .get(backendURL + \"/ranklist/\" + contestCode, { withCredentials: true })\n    .then((response) => {\n      if (!isValid(response)) logoutUser();\n      callback(response.data);\n    })\n    .catch((Error) => console.log(Error));\n}\n\nexport function getSubmission(callback, contestCode, username) {\n  const actualURL =\n    backendURL + \"/submissions/\" + contestCode + \"/user/\" + username;\n  console.log(actualURL);\n  axios\n    .get(actualURL, {\n      withCredentials: true,\n    })\n    .then((response) => {\n      if (!isValid(response)) logoutUser();\n      console.log(response.data);\n      callback(response.data);\n    })\n    .catch((Error) => console.log(Error));\n}\n\nexport function getSubmissionForProblem(callback, problemCode) {\n  const actualURL = backendURL + \"/submissions/\" + problemCode;\n  console.log(actualURL);\n  axios\n    .get(actualURL, {\n      withCredentials: true,\n    })\n    .then((response) => {\n      if (!isValid(response)) logoutUser();\n      console.log(response.data);\n      callback(response.data);\n    })\n    .catch((Error) => console.log(Error));\n}\n\nexport function getLanguages(callback) {\n  const actualURL = backendURL + \"/languages\";\n  console.log(actualURL);\n  axios\n    .get(actualURL, {\n      withCredentials: true,\n    })\n    .then((response) => {\n      if (!isValid(response)) logoutUser();\n      console.log(response.data);\n      callback(response.data);\n    })\n    .catch((Error) => console.log(Error));\n}\n\nexport function submitCode(callback, src, tc, lng) {\n  const actualURL = backendURL + \"/submit\";\n\n  const params = new URLSearchParams();\n  params.append(\"sourceCode\", src);\n  params.append(\"testCase\", tc);\n  params.append(\"language\", lng);\n\n  axios({\n    method: \"post\",\n    url: actualURL,\n    data: params,\n    withCredentials: true,\n  })\n    .then((response) => {\n      if (!isValid(response)) logoutUser();\n      console.log(response.data);\n      callback(response.data.link);\n    })\n    .catch((Error) => console.log(Error));\n  return;\n}\n\nexport function getProblemStatus(callback, link) {\n  const actualURL = backendURL + \"/getsubmitstatus/\" + link;\n\n  console.log(actualURL);\n  axios\n    .get(actualURL, {\n      withCredentials: true,\n    })\n    .then((response) => {\n      if (!isValid(response)) logoutUser();\n      console.log(response.data);\n      callback(response.data);\n    })\n    .catch((Error) => console.log(Error));\n}\n"]},"metadata":{},"sourceType":"module"}