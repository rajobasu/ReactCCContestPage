{"ast":null,"code":"import axios from \"axios\";\nconst backendURL = \"http://localhost:8080/api\";\nlet userinfo = {\n  username: \"\"\n};\nexport async function logoutUser() {\n  axios.get(backendURL + \"/logout\", {\n    withCredentials: true\n  }).then(response => {\n    userinfo.username = \"\";\n    console.log(response);\n  });\n}\nexport function getUserDetails(callback) {\n  if (userinfo.username !== \"\") callback(userinfo.username);\n  axios.get(backendURL + \"/userinfo\", {\n    withCredentials: true\n  }).then(response => {\n    userinfo.username = response.data.username;\n    callback(userinfo.username);\n  });\n}\nexport function isLoggedIn(callback) {\n  if (userinfo.username !== \"\") return true;\n  axios.get(backendURL + \"/loggedinstatus\", {\n    withCredentials: true\n  }).then(promise => {\n    console.log(promise);\n    if (promise.data === \"x\") callback(1);else callback(2);\n  }).catch(Error => {\n    console.log(Error);\n  }); //return loggedInStatus;\n}","map":{"version":3,"sources":["/Users/rajobasu/Desktop/react_tut/src/APICalls/LoginHandler.js"],"names":["axios","backendURL","userinfo","username","logoutUser","get","withCredentials","then","response","console","log","getUserDetails","callback","data","isLoggedIn","promise","catch","Error"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,MAAMC,UAAU,GAAG,2BAAnB;AAEA,IAAIC,QAAQ,GAAG;AAAEC,EAAAA,QAAQ,EAAE;AAAZ,CAAf;AAEA,OAAO,eAAeC,UAAf,GAA4B;AACjCJ,EAAAA,KAAK,CACFK,GADH,CACOJ,UAAU,GAAG,SADpB,EAC+B;AAAEK,IAAAA,eAAe,EAAE;AAAnB,GAD/B,EAEGC,IAFH,CAESC,QAAD,IAAc;AAClBN,IAAAA,QAAQ,CAACC,QAAT,GAAoB,EAApB;AACAM,IAAAA,OAAO,CAACC,GAAR,CAAYF,QAAZ;AACD,GALH;AAMD;AAED,OAAO,SAASG,cAAT,CAAwBC,QAAxB,EAAkC;AACvC,MAAIV,QAAQ,CAACC,QAAT,KAAsB,EAA1B,EAA8BS,QAAQ,CAACV,QAAQ,CAACC,QAAV,CAAR;AAC9BH,EAAAA,KAAK,CACFK,GADH,CACOJ,UAAU,GAAG,WADpB,EACiC;AAAEK,IAAAA,eAAe,EAAE;AAAnB,GADjC,EAEGC,IAFH,CAESC,QAAD,IAAc;AAClBN,IAAAA,QAAQ,CAACC,QAAT,GAAoBK,QAAQ,CAACK,IAAT,CAAcV,QAAlC;AAEAS,IAAAA,QAAQ,CAACV,QAAQ,CAACC,QAAV,CAAR;AACD,GANH;AAOD;AAED,OAAO,SAASW,UAAT,CAAoBF,QAApB,EAA8B;AACnC,MAAIV,QAAQ,CAACC,QAAT,KAAsB,EAA1B,EAA8B,OAAO,IAAP;AAC9BH,EAAAA,KAAK,CACFK,GADH,CACOJ,UAAU,GAAG,iBADpB,EACuC;AAAEK,IAAAA,eAAe,EAAE;AAAnB,GADvC,EAEGC,IAFH,CAESQ,OAAD,IAAa;AACjBN,IAAAA,OAAO,CAACC,GAAR,CAAYK,OAAZ;AACA,QAAIA,OAAO,CAACF,IAAR,KAAiB,GAArB,EAA0BD,QAAQ,CAAC,CAAD,CAAR,CAA1B,KACKA,QAAQ,CAAC,CAAD,CAAR;AACN,GANH,EAOGI,KAPH,CAOUC,KAAD,IAAW;AAChBR,IAAAA,OAAO,CAACC,GAAR,CAAYO,KAAZ;AACD,GATH,EAFmC,CAYnC;AACD","sourcesContent":["import axios from \"axios\";\n\nconst backendURL = \"http://localhost:8080/api\";\n\nlet userinfo = { username: \"\" };\n\nexport async function logoutUser() {\n  axios\n    .get(backendURL + \"/logout\", { withCredentials: true })\n    .then((response) => {\n      userinfo.username = \"\";\n      console.log(response);\n    });\n}\n\nexport function getUserDetails(callback) {\n  if (userinfo.username !== \"\") callback(userinfo.username);\n  axios\n    .get(backendURL + \"/userinfo\", { withCredentials: true })\n    .then((response) => {\n      userinfo.username = response.data.username;\n\n      callback(userinfo.username);\n    });\n}\n\nexport function isLoggedIn(callback) {\n  if (userinfo.username !== \"\") return true;\n  axios\n    .get(backendURL + \"/loggedinstatus\", { withCredentials: true })\n    .then((promise) => {\n      console.log(promise);\n      if (promise.data === \"x\") callback(1);\n      else callback(2);\n    })\n    .catch((Error) => {\n      console.log(Error);\n    });\n  //return loggedInStatus;\n}\n"]},"metadata":{},"sourceType":"module"}